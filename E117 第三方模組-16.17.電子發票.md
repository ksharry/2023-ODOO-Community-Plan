## 第三方模組
#### 已介紹模組清單-影音
|編號|模組名稱|英文名稱|模組位置|模組網址|版本|
|--|--|--|--|--|--|
|1|台灣模組|Taiwan-Accounting|ODOO台灣|[LINK](https://apps.odoo.com/apps/modules/14.0/l10n_tw/)|16|
|2|會計模組|Odoo 16 Accounting|ODOO MATE|[LINK](https://apps.odoo.com/apps/modules/16.0/om_account_accountant/)|16|
|3|會計報表模組|Account Financial Reports|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/account_financial_report/)|16|
|4|編碼模組|Reset Sequences on selected period ranges|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/sequence_reset_period/)|16|
|5|清除模組|odoo 16 Customize OEM|odooai.cn|[LINK](https://apps.odoo.com/apps/modules/16.0/app_odoo_customize/)|16|
|6|負庫存模組|Stock Disallow Negative|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/stock_no_negative/)|16|
|7|採購簽核模組|Purchase Tier Validation|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/purchase_tier_validation/)|16|
|8|Spreadsheet|Spreadsheet|OCA|[LINK](https://github.com/OCA/spreadsheet)|16|
|9|會計模組|Odoo 16 Full Accounting Kit|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/base_accounting_kit/)|16|
|10|動態報表|Dynamic Financial Reports|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/dynamic_accounts_report/)|16|
|11|會計調節|Account Reconcile Oca|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/account_reconcile_oca/)|16|
|12|CRM儀表板|CRM DASHBORAD|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/crm_dashboard/)|16|
|13|臉書訊息|Facebook Messenger in Odoo Website|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/fb_messenger/)|16|
|14|綠界-金流|ECPay 綠界第三方金流模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/payment_ecpay/)|16|
|15|綠界-物流|ECPay 綠界第三方物流模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/logistic_ecpay/)|16|
|16|綠界-電子發票|ECPay 綠界第三方電子發票模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/ecpay_invoice_tw/)|16|
|17|綠界-電子發票-網站|ECPay 綠界第三方電子發票網站模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/ecpay_invoice_website/)|16|

## 事前準備
1. 需要有庫存、銷售、會計、網站、電商..模組基本知識，並需要安裝第三方模組，可參考先前文章。
2. 需要有自己的網域，並且是https的SSL憑證。
3. 需要dbfilter或db_name鎖定資料庫，避免存取異常。
4. 需要設定電子發票權限​
5. 安裝錯誤訊息:No module named 'Crypto'，請在ubuntu安裝pip install pycryptodome。

## 前言
綠界的ODOO 16版電子發票已經免費釋出再ODOO APPS可以下載。
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160318.png?raw=true)
圖片來源:ODOO APPS畫面-[下載網址](https://apps.odoo.com/apps/modules/browse?search=ecpay)

#### 電子發票
電子發票指的是商家利用網路或其他電子方式開立、傳輸或接收的統一發票，常見的分為
   + 雲端發票。
   + 電子發票證明聯(二維發票)。

電子發票將的目的是所有發票資訊都線上處理，省去手寫、寄送、儲存、整理發票的時間，對營業人與消費者來說都有好處。

#### 電子發票載具
雲端發票通常使用載具作為儲存的媒介，又分為:
  + 共通性載具:經常使用為手機條碼。
  + 專屬載具(非共通性載具):經常使用為信用卡、悠遊卡、一卡通、會員卡..等。

專屬載具(非共通性載具)則可以透過「歸戶」的方式，將綁定到同一個手機條碼下，方便進行管理。

## 機構
1、電子發票整合服務平台：財政部提供的平台，收集與提供有關電子發票的相關資訊。
2、國稅局：電子發票資格是由地方稅稽徵機關核准，營業人根據公司登記區域向該管轄區的國稅局分局、稽徵所（地方稅局）申請。
3、加值中心：提供電子發票服務的廠商，協助營業人進行電子發票申請資料、串接傳輸等各項服務。營業人可以根據自己的需求選擇合適的加值中心。


#### 上傳時間
電子發票店家開立之後，需將發票資料上傳到財政部，區分:
  + B2B:7日內完成發票開立、上傳、接收。
  + B2C:48小時上傳發票與載具資訊。



個案公司的型態是B2C，因此小量的訂單數量日益上升，因此開始評估電子發票，可以手動上平台維護，或是透過系統進行上傳，或是透過第三方整合上傳，

那今天介紹ODOO已經與綠界整合，進行上傳到財政部的B2C方案參考。

## 模組明細
1. ecpay_invoice_tw
2. ecpay_invoice_website

## 總表
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160301.png?raw=true)

## 1.設定
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160302.png?raw=true)

## 2.電商下單
1. 電子發票
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160303.png?raw=true)
2. 紙本發票
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160304.png?raw=true)
3. 捐贈
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160305.png?raw=true)

## 3.銷售流程
1. 訂單
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160306.png?raw=true)
2. 出貨單
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160307.png?raw=true)
3. 應收
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160308.png?raw=true)
4. 電子發票開立
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160309.png?raw=true)
5. 電子發票列印

![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160315.png?raw=true)

## 4.發票作廢流程
. 電子發票作廢
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160310.png?raw=true)

## 5.發票折讓流程
1. 開立折讓單
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160311.png?raw=true)
2. 折讓單
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160312.png?raw=true)
3. 電子發票折讓
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160313.png?raw=true)

## 6.綠界後台查詢-[網址](https://vendor-stage.ecpay.com.tw/Einvoice/Index)
1. 登入帳號查詢-[網址](https://developers.ecpay.com.tw/?p=7849&_gl=1*944lb8*_gcl_au*MTc0NzkzNjQ0NC4xNjk5OTQ4MDM3)
   + 特店編號(MerchantID)：2000132
   + 廠商後台登入帳號：Stagetest1234
   + 廠商後台登入密碼：test1234
   + 廠商後台登入統一編號：53538851
2. 查詢方式
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160314.png?raw=true)

## 影片操作
[![Yes](https://img.youtube.com/vi/BXJrl4MceQw/0.jpg)](https://www.youtube.com/watch?v=BXJrl4MceQw)



## 小結
使用電子發票主要是減少人工的作業，也響應環保的一個做法，政府已推廣二十餘年，多數的年輕人也都了解載具的使用方式，

此次測試與14版本相比，整理紀錄如下:
  + 安裝方面，僅更新參數即可使用，
  + 綠界支付方面，多元付款，企業或使用者端可選擇付款方式即可。
  + 銷售流程方面，有考慮到收款情況，避免核對沖帳動作。
  + 資訊整合方面，透過API，系統自動與綠界的後台進行資訊串流。

綠界屬於第三方加值中心的廠商，今天介紹屬於B2C的流程基本上也是順暢，主要的功能說明如下:
1. 安裝後即可直接使用。
2. 整合發票開立、列印、作廢、折讓流程。
3. 訂單、應收資訊紀錄電子發票相關資訊，例如紙本發票、捐贈、載具。

以上流程其實解決部分無法開立台灣發票的問題，B2C的流程已經很完整了，

期望未來也能看到整合得更好在地服務，例如B2B的流程、進項發票的接收、整合媒體申報、合併發票、多發票..等情況，

今年ODOO也有展示歐洲的電子發票流程，期望未來有台灣的廠商能展示台灣的電子發票流程。

## 總結
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160316.png?raw=true)

整理三個模組的總表，並紀錄如下:
1. 綠界本身有更多的功能，在ODOO實踐部分內容，期待未來功能，例如:
   + 物流的B2C
   + 電子發票的B2B
   + 定期定額-訂閱
2. ODOO配合這些流程的後續優化，例如:
   + 前台物流資訊的查詢。
   + 台灣在地發票的使用。
3. 效益:
   + 對外:模組內容與電商跟使用者操作息息相關，增強了對外平台的互動，提供更元的方式。
   + 對內:
     + 人員避免與多間廠商進行對帳。
     + 公司免除部分資訊開發成本。
4. 商家成本:第三方支付的維護與小額費用。
5. 商家維護:ODOO持續維護或電商的模組調整，商家需內部/外包維護服務選項不多。
6. 綠界維護:近兩年的ODOO前端更新很多，使第三方模組每年要版跟上不容易。
7. 如公司已持續成長，透過資訊科技的整合，相對小額的付費如能負擔，提供更多元的服務是可以考量的選項。

最後，感謝綠界的持續更新，綠界的三個模組相較之前版本使用與安裝上都很容易，此為免費下載即可以測試使用，鼓勵大家可以多多使用進行測試回饋~


## 參考資料
1. 電子發票申請懶人包｜申請資格、流程、常見問題一次看-[網址](https://www.cetustek.com.tw/e-invoice-apply-for.html)
2. 電子發票是什麼？非共通性載具歸戶怎麼用？店員問「發票存載具」是什麼意思？-[網址](https://invoice.tw/news/?p=352)
