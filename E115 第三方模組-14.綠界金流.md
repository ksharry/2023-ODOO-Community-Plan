## 第三方模組
#### 已介紹模組清單-影音
|編號|模組名稱|英文名稱|模組位置|模組網址|版本|
|--|--|--|--|--|--|
|1|台灣模組|Taiwan-Accounting|ODOO台灣|[LINK](https://apps.odoo.com/apps/modules/14.0/l10n_tw/)|16|
|2|會計模組|Odoo 16 Accounting|ODOO MATE|[LINK](https://apps.odoo.com/apps/modules/16.0/om_account_accountant/)|16|
|3|會計報表模組|Account Financial Reports|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/account_financial_report/)|16|
|4|編碼模組|Reset Sequences on selected period ranges|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/sequence_reset_period/)|16|
|5|清除模組|odoo 16 Customize OEM|odooai.cn|[LINK](https://apps.odoo.com/apps/modules/16.0/app_odoo_customize/)|16|
|6|負庫存模組|Stock Disallow Negative|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/stock_no_negative/)|16|
|7|採購簽核模組|Purchase Tier Validation|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/purchase_tier_validation/)|16|
|8|Spreadsheet|Spreadsheet|OCA|[LINK](https://github.com/OCA/spreadsheet)|16|
|9|會計模組|Odoo 16 Full Accounting Kit|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/base_accounting_kit/)|16|
|10|動態報表|Dynamic Financial Reports|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/dynamic_accounts_report/)|16|
|11|會計調節|Account Reconcile Oca|OCA|[LINK](https://apps.odoo.com/apps/modules/16.0/account_reconcile_oca/)|16|
|12|CRM儀表板|CRM DASHBORAD|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/crm_dashboard/)|16|
|13|臉書訊息|Facebook Messenger in Odoo Website|Cybrosys|[LINK](https://apps.odoo.com/apps/modules/16.0/fb_messenger/)|16|
|14|綠界-金流|ECPay 綠界第三方金流模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/payment_ecpay/)|16|
|15|綠界-物流|ECPay 綠界第三方物流模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/logistic_ecpay/)|16|
|16|綠界-電子發票|ECPay 綠界第三方電子發票模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/ecpay_invoice_tw/)|16|
|17|綠界-電子發票-網站|ECPay 綠界第三方電子發票網站模組|Ecpay|[LINK](https://apps.odoo.com/apps/modules/16.0/ecpay_invoice_website/)|16|

## 事前準備
1. 需要有庫存、銷售、會計、網站、電商..模組基本知識，可參考先前文章。
2. 需要有自己的網域，並且是https的SSL憑證。
3. 需要dbfilter或db_name鎖定資料庫，避免存取異常。

## 前言
綠界的ODOO 16版金流已經免費釋出再ODOO APPS可以免費下載[參考1]，很開心能分享到16版的綠界模組的使用經驗，

接續30天鐵人賽文章，將智能家具公司的電商網站做了延伸，

更新電動升降桌的圖片，使用最近很紅的Bing的圖片產生器[參考2]，有了更好看的產品圖片，

就個案公司，電商剛起步，不可能達到大額交易金額與銀行直接對口得到優惠刷卡%數，

且多元支付功能是購買者需要的，因此選擇了第三方支付[參考3]，

今天就來了解第三方支付廠商-綠界，整合了哪些付款方式來進行ODOO電商的付款流程。

## 模組明細
1. payment_ecpay

## 總表
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160101.png?raw=true)


## 1.設定[參考4]
1. 付款方式(會計的設定)
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160104.png?raw=true)

## 2.電商購物流程
1. 購物車結帳
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160103.png?raw=true)
2. 選擇付款方式
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160102.png?raw=true)

## 3.綠界流程
1. 信用卡結帳
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160105.png?raw=true)
  + 測試卡號:4311952222222222
  + 日期:大於今天，可用1224
  + 安全碼:222
2. OTP輸入
  + ![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160106.png?raw=true)

## 4.查詢綠界後台[參考5]
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160117.png?raw=true) 

## 5.ODOO銷售流程
1. 訂單
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160108.png?raw=true)
  + 綠界整合訂單的相關付款資訊
2. 出貨
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160109.png?raw=true)
3. 應收
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160110.png?raw=true)
  + 單據確認後自動沖帳


## 6.其他付款畫面
1. ATM櫃員機
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160112.png?raw=true)
2. 超商條碼
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160113.png?raw=true)
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160114.png?raw=true)
3. Apple Pay
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160117.png?raw=true)
4. 無卡分期
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160115.png?raw=true)
5. TWQR行動支付
![Alt text](https://github.com/ksharry/odoo-repository/blob/main/pic/E160116.png?raw=true)

## 小結
綠界的14版本筆者有使用經驗，16版本提供了更多的功能與設定，使內容更加完善，更新紀錄參考如下:
  + 增加付款的方式
    + 無卡支付
    + TWQR行動支付
  + 優化付款的設定
    + 帳本的新增與預設
    + 測試帳號的預設
    + 線上文件的串查
  +  應收帳款的自動沖帳

以上功能，讓模組安裝完成後，只要開啟功能，並更新使用參數就可以進行使用，降低模組安裝後的使用門檻，此次使用也滿穩定的，沒出現什麼錯誤。

ODOO原生是可開放電匯功能，或使用國外的Stripe、PayPal功能，但在台灣使用有所限制，

如要更多功能，綠界都已協助與不同廠商對口進行整合，在使用者端只要選哪些方式進行付款即可，

因此在ODOO整合的重點在與：
1. 綠界與ODOO的"電商網頁"連結。
2. 綠界與ODOO的"銷售流程"數據整合。
3. ODOO"收款流程"調整。

技術難度是有的，感謝綠界願意再ODOO持續更新，讓ODOO在台灣使用者在電商購物的付款有更多元的選擇。

## 參考文件
1. ODOO綠界模組 - [網址](https://apps.odoo.com/apps/modules/browse?search=ecpay)
2. Bing圖片產生- [網址](https://www.bing.com/images/create?FORM=GENILP)
3. 【2023電商金流懶人包】3分鐘一次搞懂！全通路整合多元支付，有效提升下單付款率！-[網址](https://www.cyberbiz.io/blog/2020%E9%9B%BB%E5%95%86%E9%87%91%E6%B5%81%E6%87%B6%E4%BA%BA%E5%8C%85-%E5%85%A8%E9%80%9A%E8%B7%AF%E6%95%B4%E5%90%88%E3%80%8C%E5%A4%9A%E5%85%83%E6%94%AF%E4%BB%98%E3%80%8D/)
4. 綠界金流文件 - [網址](https://developers.ecpay.com.tw/?p=2509)
5. 綠界後台查詢 - [網址](https://vendor-stage.ecpay.com.tw/)
